<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `Plic` struct in crate `kernel`."><meta name="keywords" content="rust, rustlang, rust-lang, Plic"><title>kernel::plic::Plic - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc struct"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../kernel/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Struct Plic</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.complete">complete</a><a href="#method.enable">enable</a><a href="#method.init">init</a><a href="#method.is_pending">is_pending</a><a href="#method.new">new</a><a href="#method.next">next</a><a href="#method.set_priority">set_priority</a><a href="#method.set_threshold">set_threshold</a></div></div><p class='location'><a href='../index.html'>kernel</a>::<wbr><a href='index.html'>plic</a></p><script>window.sidebarCurrent = {name: 'Plic', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/kernel/plic.rs.html#44' title='goto source code'>[src]</a></span><span class='in-band'>Struct <a href='../index.html'>kernel</a>::<wbr><a href='index.html'>plic</a>::<wbr><a class="struct" href=''>Plic</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust struct'>pub struct Plic {}</pre></div><h2 id='methods' class='small-section-header'>Methods<a href='#methods' class='anchor'></a></h2><h3 id='impl' class='impl'><code class='in-band'>impl <a class="struct" href="../../kernel/plic/struct.Plic.html" title="struct kernel::plic::Plic">Plic</a></code><a href='#impl' class='anchor'></a><a class='srclink' href='../../src/kernel/plic.rs.html#46-141' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.new' class="method"><code id='new.v'>pub const fn <a href='#method.new' class='fnname'>new</a>() -&gt; Self</code><a class='srclink' href='../../src/kernel/plic.rs.html#47-49' title='goto source code'>[src]</a></h4><h4 id='method.next' class="method"><code id='next.v'>pub fn <a href='#method.next' class='fnname'>next</a>(&amp;mut self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;u32&gt;</code><a class='srclink' href='../../src/kernel/plic.rs.html#54-69' title='goto source code'>[src]</a></h4><div class='docblock'><p>Get the next available interrupt. This is the &quot;claim&quot; process.
The plic will automatically sort by priority and hand us the
ID of the interrupt. For example, if the UART is interrupting
and it's next, we will get the value 10.</p>
</div><h4 id='method.complete' class="method"><code id='complete.v'>pub fn <a href='#method.complete' class='fnname'>complete</a>(&amp;mut self, id: u32)</code><a class='srclink' href='../../src/kernel/plic.rs.html#73-81' title='goto source code'>[src]</a></h4><div class='docblock'><p>Complete a pending interrupt by id. The id should come
from the next() function above.</p>
</div><h4 id='method.init' class="method"><code id='init.v'>pub unsafe fn <a href='#method.init' class='fnname'>init</a>(&amp;mut self, id: u32)</code><a class='srclink' href='../../src/kernel/plic.rs.html#84-87' title='goto source code'>[src]</a></h4><div class='docblock'><p>Initialize PLIC. Enable interrupt.</p>
</div><h4 id='method.is_pending' class="method"><code id='is_pending.v'>pub unsafe fn <a href='#method.is_pending' class='fnname'>is_pending</a>(&amp;mut self, id: u32) -&gt; bool</code><a class='srclink' href='../../src/kernel/plic.rs.html#92-98' title='goto source code'>[src]</a></h4><div class='docblock'><p>See if a given interrupt id is pending.</p>
<p>Should only be called with lock.</p>
</div><h4 id='method.enable' class="method"><code id='enable.v'>pub fn <a href='#method.enable' class='fnname'>enable</a>(&amp;mut self, id: u32)</code><a class='srclink' href='../../src/kernel/plic.rs.html#101-111' title='goto source code'>[src]</a></h4><div class='docblock'><p>Enable a given interrupt id</p>
</div><h4 id='method.set_threshold' class="method"><code id='set_threshold.v'>pub fn <a href='#method.set_threshold' class='fnname'>set_threshold</a>(&amp;mut self, tsh: u8)</code><a class='srclink' href='../../src/kernel/plic.rs.html#117-126' title='goto source code'>[src]</a></h4><div class='docblock'><p>Set the global threshold. The threshold can be a value [0..7].
The PLIC will mask any interrupts at or below the given threshold.
This means that a threshold of 7 will mask ALL interrupts and
a threshold of 0 will allow ALL interrupts.</p>
</div><h4 id='method.set_priority' class="method"><code id='set_priority.v'>pub fn <a href='#method.set_priority' class='fnname'>set_priority</a>(&amp;mut self, id: u32, prio: u8)</code><a class='srclink' href='../../src/kernel/plic.rs.html#130-140' title='goto source code'>[src]</a></h4><div class='docblock'><p>Set a given interrupt priority to the given priority.
The priority must be [0..7]</p>
</div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "kernel";</script><script src="../../aliases.js"></script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>